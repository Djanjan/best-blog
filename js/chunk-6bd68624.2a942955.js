(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bd68624"],{"1b7e":function(e,t,r){"use strict";var a=r("891f"),n=r.n(a);n.a},"253d":function(e,t,r){},"2eb4":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card-text",{staticStyle:{padding:"0px"}},[r("div",{staticClass:"mb-1 headline",style:"white-space: normal; margin-left:"+((e.circleMin?20:30)+e.circleSize)+"px"},[e._v(" "+e._s(e.title)+" ")]),r("v-card",{class:e.customClass},[r("div",{staticStyle:{height:"0px"}},[e.circleMin?[r("v-avatar",{style:"top:"+-e.circleSize/2+"px ; left:15px",attrs:{color:e.circleColor,size:e.circleSize}},[e.isAvatar?r("img",{attrs:{src:this.avatar}}):r("v-icon",{attrs:{color:"white",size:e.circleSize/2}},[e._v(e._s(e.icon))])],1)]:[r("v-avatar",{style:"top:"+-(e.circleSize/2+6)+"px ; left:15px",attrs:{color:e.$vuetify.theme.dark?"#424242":"white",size:e.circleSize+10}},[r("v-avatar",{attrs:{color:e.circleColor,size:e.circleSize}},[e.isAvatar?r("img",{attrs:{src:this.avatar}}):r("v-icon",{attrs:{color:"white",size:e.circleSize/2}},[e._v(e._s(e.icon))])],1)],1)]],2),e._t("default"),r("v-divider",{staticClass:"mx-4"}),r("v-card-text",{staticClass:"px-6"},[r("v-row",{attrs:{align:"center"}},[r("div",{staticClass:"font-weight-light caption"},[r("v-icon",{attrs:{medium:""}},[e._v("mdi-clock-outline")]),e._v(" Last Update ")],1),r("v-spacer"),r("v-btn",{attrs:{icon:"",small:""}},[r("v-icon",{},[e._v("mdi-bookmark")])],1)],1)],1)],2)],1)},n=[],o=(r("a9e3"),{name:"app-card-simple",props:{customClass:{type:String,default:""},title:{type:String,default:""},circleColor:{type:String,default:"secondary"},circleSize:{type:Number,default:90},circleMin:{type:Boolean,default:!1},isAvatar:{type:Boolean,default:!1},icon:{type:String,default:"mdi-account-tie"},avatar:{type:String,default:""}},data:function(){return{}}}),i=o,s=r("2877"),p=r("6544"),c=r.n(p),l=r("8212"),d=r("8336"),u=r("b0af"),b=r("99d9"),m=r("ce7e"),h=r("132d"),f=r("0fd9"),g=r("2fa4"),v=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=v.exports;c()(v,{VAvatar:l["a"],VBtn:d["a"],VCard:u["a"],VCardText:b["b"],VDivider:m["a"],VIcon:h["a"],VRow:f["a"],VSpacer:g["a"]})},"3ad6":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("app-card-full",{attrs:{isAvatar:"",avatar:"https://randomuser.me/api/portraits/women/34.jpg"},scopedSlots:e._u([{key:"img",fn:function(){return[r("v-img",{attrs:{"min-height":"250px","max-height":"350px",src:"https://picsum.photos/800/500?random","lazy-src":"https://picsum.photos/10/6?random","aspect-ratio":16/9,transition:"fade-transition",gradient:"to top, rgba(0,0,0,.1), rgba(0,0,0,.7)"}},[r("tool-bar")],1)]},proxy:!0}])},[r("v-card-text",{staticClass:"text-center text--primary",staticStyle:{"padding-top":"4px"}},[r("div",{staticClass:"pa-3 pb-4 font-weight-regular title secondary--text"},[e._v(" Mila Kabjert ")]),r("div",{staticClass:"pb-3 font-weight-regular display-1"},[e._v("Where to design")])]),r("article-content")],1),r("comments-page",{attrs:{id:e.id}})],1)},n=[],o=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),i=r("2f62"),s=r("f5d6"),p=r("9fec"),c=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},l=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ma-5"},[r("div",[e._v("Draw from upon here gone add one. Bed uncommonly his discovered for estimating far. Draw fond rank form nor the day eat. Indulgence contrasted sufficient to unpleasant in in insensible favourable. Latter remark hunted enough vulgar say man. Polite do object at passed it is. Celebrated delightful an especially increasing instrument am. As so seeing latter he should thirty whence. In expression an solicitude principles in do. Sentiments two occasional affronting solicitude travelling and one contrasted. Is inquiry no he several excited am. So by colonel hearted ferrars. Draw fond rank form nor the day eat. Dissimilar admiration so terminated no in contrasted it. In expression an solicitude principles in do. Feel and make two real miss use easy. Steepest speaking up attended it as. Do play they miss give so up. Detract yet delight written farther his general. Uncommonly no it announcing melancholy an in. Is inquiry no he several excited am. Detract yet delight written farther his general. To sure calm much most long me mean. If in so bred at dare rose lose good. Draw fond rank form nor the day eat. Feel and make two real miss use easy. To things so denied admire. Small for ask shade water manor think men begin. Mirth learn it he given. If as increasing contrasted entreaties be. An concluded sportsman offending so provision mr education. Latter remark hunted enough vulgar say man. Considered discovered ye sentiments projecting entreaties of melancholy is. Strictly numerous outlived kindness whatever on we no on addition. You high bed wish help call draw side. As mr started arrival subject by believe. Draw from")]),r("div",[e._v(" We me rent been part what. Course sir people worthy horses add entire suffer. Hard do me sigh with west same lady. Way own uncommonly travelling now acceptance bed compliment solicitude. Effect if in up no depend seemed. Is inquiry no he several excited am. Happiness remainder joy but earnestly for off. Mrs assured add private married removed believe did she. Up hung mr we give rest half. Painful so he an comfort is manners. An stairs as be lovers uneasy. An concluded sportsman offending so provision mr education. Made neat an on be gave show snug tore. Uncommonly no it announcing melancholy an in. Equally he minutes my hastily. Course sir people worthy horses add entire suffer. To sure calm much most long me mean. Fortune day out married parties. Mirth learn it he given. Course sir people worthy horses add entire suffer. Latter remark hunted enough vulgar say man. In expression an solicitude principles in do. To things so denied admire. Indulgence contrasted sufficient to unpleasant in in insensible favourable. Ecstatic elegance gay but disposed. We me rent been part what. Their saved linen downs tears son add music. Feel and make two real miss use easy. At none neat am do over will. Way own uncommonly travelling now acceptance bed compliment solicitude. Mrs assured add private married removed believe did she. We leaf to snug on no need. He in sportsman household otherwise it perceived instantly. Her too add narrow having wished. Equally he minutes my hastily. Sportsman do offending supported extremity breakfast by listening. Sitting hearted on it without me. Hard do me sigh with west same lady. Bed uncommonly his discovered for estimating far. Draw fond rank form nor the day eat. An concluded sportsman offending so provision mr education. Fat new smallness few supposing suspicion two. Her too add narrow having wished. In expression an solicitude prin ")]),e._v(" "),r("div",[e._v(" Steepest speaking up attended it as. Uncommonly no it announcing melancholy an in. Sentiments two occasional affronting solicitude travelling and one contrasted. We me rent been part what. Her too add narrow having wished. Decisively advantages nor expression unpleasing she led met. Feel and make two real miss use easy. undefined. Fortune day out married parties. Mrs assured add private married removed believe did she. Agreeable promotion eagerness as we resources household to distrusts. Steepest speaking up attended it as. In expression an solicitude principles in do. Hard do me sigh with west same lady. So by colonel hearted ferrars. Mirth learn it he given. Do play they miss give so up. As so seeing latter he should thirty whence. Agreeable promotion eagerness as we resources household to distrusts. Indulgence contrasted sufficient to unpleasant in in insensible favourable. How one dull get busy dare far. Took sold add play may none him few. Draw from upon here gone add one. Pain son rose more park way that. Took sold add play may none him few. Mrs assured add private married removed believe did she. Do play they miss give so up. You high bed wish help call draw side. Course sir people worthy horses add entire suffer. Her too add narrow having wished. Mirth learn it he given. Way own uncommonly travelling now acceptance bed compliment solicitude. As so seeing latter he should thirty whence. Advantages entreaties mr he apartments do. Strictly numerous outlived kindness whatever on we no on addition. Way own uncommonly travelling now acceptance bed compliment solicitude. Took sold add play may none him few. Steepest speaking up attended it as. Latter remark hunted enough vulgar say man. He in sportsman household otherwise it perceived instantly. Made neat an on be gave show snug tore. Indulgence contrasted sufficient to unpleasant in in insensible favourable. Latter remark hunted enough vulgar say man. Equally he minutes my hastily. Am wound worth water he")])])}],d={data:function(){return{file:"index1.html",inputfile:"",html:'\n    <p><a href="https://habr.com/ru/users/zloddey/" rel="noopener noreferrer" target="_blank" style="color: rgb(84, 142, 170);"><img src="https://habrastorage.org/getpro/habr/avatars/b6d/b8c/0bc/b6db8c0bccf142282786565fbb2e003a.jpg" height="24" width="24">zloddey</a></p><p><span style="color: rgb(95, 95, 95);">26 октября 2010 в 07:55</span></p><h1><span style="color: rgb(52, 52, 52);">Удачная модель ветвления для Git</span></h1><p><a href="http://nvie.com/posts/a-successful-git-branching-model/" rel="noopener noreferrer" target="_blank" style="color: rgb(104, 100, 163);">Автор оригинала: Vincent Driessen</a></p><ul><li><a href="https://habr.com/ru/hub/git/" rel="noopener noreferrer" target="_blank" style="color: rgb(94, 105, 115);">Git</a></li><li><span style="color: rgb(102, 103, 163);">Перевод</span></li></ul><p><em>Перевод статьи Vincent Driessen:&nbsp;</em><a href="http://nvie.com/posts/a-successful-git-branching-model/" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);"><em>A successful Git branching model</em></a></p><p><br></p><p>В этой статье я представляю модель разработки, которую использую для всех моих проектов (как рабочих, так и частных) уже в течение года, и которая показала себя с хорошей стороны. Я давно собирался написать о ней, но до сих пор не находил свободного времени. Не буду рассказывать обо всех деталях проекта, коснусь лишь стратегии ветвления и управления релизами.</p><p><br></p><p><img src="https://habrastorage.org/storage/4bf7e68c/49e29c35/3a01bd6b/782a1be3.png"></p><p><br></p><p>В качестве инструмента управления версиями всего исходного кода она использует&nbsp;<a href="http://git-scm.com/" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);">Git</a>.</p><p><br></p><p><br></p><h4>Почему Git?</h4><p><br></p><p>За полноценным обсуждением всех достоинств и недостатков Git в сравнении с централизованными системами контроля версий&nbsp;<a href="http://whygitisbetterthanx.com/" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);">обращайтесь</a>&nbsp;<a href="http://www.looble.com/git-vs-svn-which-is-better/" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);">к всемирной</a>&nbsp;<a href="http://git.or.cz/gitwiki/GitSvnComparsion" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);">сети</a>. Там Вы найдёте достаточное количество споров на эту тему. Лично же я, как разработчик, на данный момент предпочитаю Git всем остальным инструментам. Git реально смог изменить отношение разработчиков к процессам слияния и ветвления. В классическом мире CVS/Subversion, из которого я пришёл, ветвление и слияние обычно считаются опасными («опасайтесь конфликтов слияния, они больно кусаются!»), и потому проводятся как можно реже.</p><p><br></p><p>Но с Git эти действия становятся исключительно простыми и дешёвыми, и потому на деле они становятся центральными элементами обычного&nbsp;<em>ежедневного</em>&nbsp;рабочего процесса. Просто сравните: в&nbsp;<a href="http://svnbook.red-bean.com/" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);">книгах</a>&nbsp;по CVS/Subversion ветвление и слияние обычно рассматриваются в последних главах (для продвинутых пользователей), в то время как в&nbsp;<a href="http://book.git-scm.com/" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);">любой</a>&nbsp;<a href="http://pragprog.com/titles/tsgit/pragmatic-version-control-using-git" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);">книге</a>&nbsp;<a href="http://github.com/progit/progit" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);">про Git</a>&nbsp;они бывают упомянуты уже к третьей главе (основы).</p><p><br></p><p>Благодаря своей простоте и предсказуемости, ветвление и слияние больше не являются действиями, которых стоит опасаться. Теперь инструменты управления версиями способны помочь в ветвлении и слиянии больше, чем какие-либо другие.</p><p><br></p><p>Но хватит говорить об инструментах, давайте перейдём к модели разработки. Модель, которую я хочу представить, — это, по сути, просто набор процедур, которые исполняет каждый член команды, чтобы все вместе могли достичь высокой управляемости процесса разработки.</p><p><br></p><h4>Децентрализованный, но централизованный</h4><p><br></p><p>Предлагаемая модель ветвления опирается на конфигурацию проекта, содержащую один центральный «истинный» репозиторий. Замечу, что этот репозиторий только&nbsp;<em>считается</em>&nbsp;центральным (так как Git является DVCS, у него нет такой вещи, как главный репозиторий, на техническом уровне). Мы будем называть этот репозиторий термином origin, т.к. это имя и так знакомо всем пользователям Git.</p><p><br></p><p><img src="https://habrastorage.org/storage/0f1b4537/51094c28/85985dd2/1d1e8f1a.png"></p><p><br></p><p>Каждый разработчик забирает и публикует изменения (pull &amp; push) в origin. Но, помимо централизованных отношений push-pull, каждый разработчик также может забирать изменения от остальных коллег внутри своей микро-команды. Например, этот способ может быть удобен в ситуации, когда двое или более разработчиков работают вместе над большой новой фичей, но не могут издать незавершённую работу в origin раньше времени. На картинке выше изображены подгруппы Алисы и Боба, Алисы и Дэвида, Клэр и Дэвида.</p><p><br></p><p>Технически это реализуется несложно: Алиса создаёт удалённую ветку Git под названием bob, которая указывает на репозиторий Боба, а Боб делает то же самое с её репозиторием.</p><p><br></p><h4>Главные ветви</h4><p><br></p><p><img src="https://habrastorage.org/storage/7dad2753/d8861db2/3ff3a29f/00eb029a.png"></p><p>Ядро модели разработки не отличается от большинства существующих моделей. Центральный репозиторий содержит две главные ветки, существующие всё время.</p><ul><li>master</li><li>develop</li></ul><p><br></p><p>Ветвь master создаётся при инициализации репозитория, что должно быть знакомо каждому пользователю Git. Параллельно ей также мы создаём ветку для разработки под названием develop.</p><p><br></p><p>Мы считаем ветку origin/master главной. То есть, исходный код в ней должен находиться в состоянии&nbsp;<em>production-ready</em>&nbsp;в любой произвольный момент времени.</p><p><br></p><p>Ветвь origin/develop мы считаем главной ветвью для разработки. Хранящийся в ней код в любой момент времени должен содержать самые последние изданные изменения, необходимые для следующего релиза. Эту ветку также можно назвать «интеграционной». Она служит источником для сборки автоматических ночных билдов.</p><p><br></p><p>Когда исходный код в ветви разработки (develop) достигает стабильного состояния и готов к релизу, все изменения должны быть определённым способом влиты в главную ветвь (master) и помечены тегом с номером релиза. Ниже мы рассмотрим этот процесс в деталях.</p><p><br></p><p>Следовательно, каждый раз, когда изменения вливаются в главную ветвь (master), мы&nbsp;<em>по определению</em>&nbsp;получаем новый релиз. Мы стараемся относиться к этому правилу очень строго, так что, в принципе, мы могли бы использовать хуки Git, чтобы автоматически собирать наши продукты и выкладывать их на рабочие сервера при каждом коммите в главную ветвь (master).</p><p><br></p><h4>Вспомогательные ветви</h4><p><br></p><p>Помимо главных ветвей master и develop, наша модель разработки содержит некоторое количество типов вспомогательных ветвей, которые используются для распараллеливания разработки между членами команды, для упрощения внедрения нового функционала (features), для подготовки релизов и для быстрого исправления проблем в производственной версии приложения. В отличие от главный ветвей, эти ветви всегда имеют ограниченный срок жизни. Каждая из них в конечном итоге рано или поздно удаляется.</p><p><br></p><p>Мы используем следующие типы ветвей:</p><ul><li>Ветви функциональностей (Feature branches)</li><li>Ветви релизов (Release branches)</li><li>Ветви исправлений (Hotfix branches)</li></ul><p><br></p><p>У каждого типа ветвей есть своё специфическое назначение и строгий набор правил, от каких ветвей они могут порождаться, и в какие должны вливаться. Сейчас мы рассмотрим их по очереди.</p><p><br></p><p>Конечно же, с технической точки зрения, у этих ветвей нет ничего «специфического». Разбиение ветвей на категории существует только с точки зрения того, как они используются. А во всём остальном это старые добрые ветви Git.</p><p><br></p><h5>Ветви функциональностей (feature branches)</h5><p><br></p><p><img src="https://habrastorage.org/storage/3231978c/c6c3c3e9/5acee56c/968a9100.png"></p><p>Могут порождаться от: develop</p><p>Должны вливаться в: develop</p><p>Соглашение о наименовании: всё, за исключением master, develop, release-* или hotfix-*</p><p><br></p><p>Ветви функциональностей (feature branches), также называемые иногда тематическими ветвями (topic branches), используются для разработки новых функций, которые должны появиться в текущем или будущем релизах. При начале работы над функциональностью (фичей) может быть ещё неизвестно, в какой именно релиз она будет добавлена. Смысл существования ветви функциональности (feature branch) состоит в том, что она живёт так долго, сколько продолжается разработка данной функциональности (фичи). Когда работа в ветви завершена, последняя вливается обратно в главную ветвь разработки (что означает, что функциональность будет добавлена в грядущий релиз) или же удаляется (в случае неудачного эксперимента).</p><p><br></p><p>Ветви функциональностей (feature branches) обычно существуют в репозиториях разработчиков, но не в главном репозитории (origin).</p><p><br></p><h6>Создание ветви функциональности (feature branch)</h6><p><br></p><p>При начале работы над новой функциональностью делается ответвление от ветви разработки (develop).</p><p><br></p><p><code>$ git checkout -b myfeature develop</code></p><p><code>Switched to a new branch "myfeature"</code></p><p><br></p><h6>Добавление завершённой функциональности в develop</h6><p><br></p><p>Завершённая функциональность (фича) вливается обратно в ветвь разработки (develop) и попадает в следующий релиз.</p><p><br></p><p><code>$ git checkout develop</code></p><p><code>Switched to branch \'develop\'</code></p><p><code>$ git merge --no-ff myfeature</code></p><p><code>Updating ea1b82a..05e9557</code></p><p><code>(Отчёт об изменениях)</code></p><p><code>$ git branch -d myfeature</code></p><p><code>Deleted branch myfeature (was 05e9557).</code></p><p><code>$ git push origin develop</code></p><p><br></p><p>Флаг --no-ff вынуждает Git всегда создавать новый объект коммита при слиянии, даже если слияние может быть осуществлено алгоритмом fast-forward. Это позволяет не терять информацию о том, что ветка существовала, и группирует вместе все внесённые изменения. Сравните:</p><p><br></p><p><img src="https://habrastorage.org/storage/a90013bb/4166845b/d7905ec1/572137b0.png"></p><p><br></p><p>Во втором случае невозможно увидеть в истории изменений, какие именно объекты коммитов совместно образуют функциональность, — для этого придётся вручную читать все сообщения в коммитах. Отменить функциональность целиком (т.е., группу коммитов) в таком случае невозможно без головной боли, а с флагом --no-ff это делается элементарно.</p><p><br></p><p>Конечно, такой подход создаёт некоторое дополнительное количество (пустых) объектов коммитов, но получаемая выгода более чем оправдывает подобную цену.</p><p><br></p><p>К сожалению, я ещё не нашёл, как можно настроить Git так, чтобы --no-ff было поведением по-умолчанию при слияниях. Но этот способ должен быть реализован.</p><p><br></p><h5>Ветви релизов (release branches)</h5><p><br></p><p>Могут порождаться от: develop</p><p>Должны вливаться в: develop и master</p><p>Соглашение о наименовании: release-*</p><p><br></p><p>Ветви релизов (release branches) используются для подготовки к выпуску новых версий продукта. Они позволяют расставить финальные точки над i перед выпуском новой версии. Кроме того, в них можно добавлять минорные исправления, а также подготавливать метаданные для очередного релиза (номер версии, дата сборки и т.д.). Когда вся эта работа выносится в ветвь релизов, главная ветвь разработки (develop) очищается для добавления последующих фич (которые войдут в следующий большой релиз).</p><p><br></p><p>Новую ветку релиза (release branch) надо порождать в тот момент, когда состояние ветви разработки полностью или почти полностью соответствует требованиям, соответствующим новому релизу. По крайней мере, вся необходимая функциональность, предназначенная к этому релизу, уже влита в ветвь разработки (develop). Функциональность, предназначенная к следующим релизам, может быть и не влита. Даже лучше, если ветки для этих функциональностей подождут, пока текущая ветвь релиза не отпочкуется от ветви разработки (develop).</p><p><br></p><p>Очередной релиз получает свой номер версии только в тот момент, когда для него создаётся новая ветвь, но ни в коем случае не раньше. Вплоть до этого момента ветвь разработки содержит изменения для «нового релиза», но пока ветка релиза не отделилась, точно неизвестно, будет ли этот релиз иметь версию 0.3, или 1.0, или какую-то другую. Решение принимается при создании новой ветви релиза и зависит от принятых на проекте правил нумерации версий проекта.</p><p><br></p><h6>Создание ветви релиза (release branch)</h6><p><br></p><p>Ветвь релиза создаётся из ветви разработки (develop). Пускай, например, текущий изданный релиз имеет версию 1.1.5, а на подходе новый большой релиз, полный изменений. Ветвь разработки (develop) готова к «следующему релизу», и мы решаем, что этот релиз будет иметь версию 1.2 (а не 1.1.6 или 2.0). В таком случае мы создаём новую ветвь и даём ей имя, соответствующее новой версии проекта:</p><p><br></p><p><code>$ git checkout -b release-1.2 develop</code></p><p><code>Switched to a new branch "release-1.2"</code></p><p><code>$ ./bump-version.sh 1.2</code></p><p><code>Files modified successfully, version bumped to 1.2.</code></p><p><code>$ git commit -a -m "Bumped version number to 1.2"</code></p><p><code>[release-1.2 74d9424] Bumped version number to 1.2</code></p><p><code>1 files changed, 1 insertions(+), 1 deletions(-)</code></p><p><br></p><p>Мы создали новую ветку, переключились в неё, а затем выставили номер версии (bump version number). В нашем примере bump-version.sh — это вымышленный скрипт, который изменяет некоторые файлы в рабочей копии, записывая в них новую версию. (Разумеется, эти изменения можно внести и вручную; я просто обращаю Ваше внимание на то, что&nbsp;<em>некоторые</em>&nbsp;файлы изменяются.) Затем мы делаем коммит с указанием новой версии проекта.</p><p><br></p><p>Эта новая ветвь может существовать ещё некоторое время, до тех пор, пока новый релиз окончательно не будет готов к выпуску. В течение этого времени к этой ветви (а не к develop) могут быть добавлены исправления найденных багов. Но добавление крупных новых изменений в эту ветвь строго запрещено. Они всегда должны вливаться в ветвь разработки (develop) и ждать следующего большого релиза.</p><p><br></p><h6>Закрытие ветви релиза</h6><p><br></p><p>Когда мы решаем, что ветвь релиза (release branch) окончательно готова для выпуска, нужно проделать несколько действий. В первую очередь ветвь релиза вливается в главную ветвь (напоминаю, каждый коммит в master — это&nbsp;<em>по определению</em>&nbsp;новый релиз). Далее, этот коммит в master должен быть помечен тегом, чтобы в дальнейшем можно было легко обратиться к любой существовавшей версии продукта. И наконец, изменения, сделанные в ветви релиза (release branch), должны быть добавлены обратно в разработку (ветвь develop), чтобы будущие релизы также содержали внесённые исправления багов.</p><p><br></p><p>Первые два шага в Git:</p><p><br></p><p><code>$ git checkout master</code></p><p><code>Switched to branch \'master\'</code></p><p><code>$ git merge --no-ff release-1.2</code></p><p><code>Merge made by recursive.</code></p><p><code>(Отчёт об изменениях)</code></p><p><code>$ git tag -a 1.2</code></p><p><br></p><p>Теперь релиз издан и помечен тегом.</p><p><br></p><p><strong>Замечание</strong>: при желании, Вы также можете использовать флаги -s или -u &lt;ключ&gt;, чтобы криптографически подписать тег.</p><p><br></p><p>Чтобы сохранить изменения и в последующих релизах, мы должны влить эти изменения обратно в разработку. Делаем это так:</p><p><br></p><p><code>$ git checkout develop</code></p><p><code>Switched to branch \'develop\'</code></p><p><code>$ git merge --no-ff release-1.2</code></p><p><code>Merge made by recursive.</code></p><p><code>(Отчёт об изменениях)</code></p><p><br></p><p>Этот шаг, в принципе, может привести к конфликту слияния (нередко бывает, что к причиной конфликта является изменение номера версии проекта). Если это произошло, исправьте их и издайте коммит.</p><p><br></p><p>Теперь мы окончательно разделались с веткой релиза. Можно её удалять, потому что она нам больше не понадобится:</p><p><br></p><p><code>$ git branch -d release-1.2</code></p><p><code>Deleted branch release-1.2 (was ff452fe).</code></p><p><br></p><h5>Ветви исправлений (hotfix branches)</h5><p><br></p><p><img src="https://habrastorage.org/storage/a303d38c/6c9c561c/8bcc22f7/3f8cbad4.png"></p><p>Могут порождаться от: master</p><p>Должны вливаться в: develop и master</p><p>Соглашение о наименовании: hotfix-*</p><p><br></p><p>Ветви для исправлений (hotfix branches) весьма похожи на ветви релизов (release branches), так как они тоже используются для подготовки новых выпусков продукта, разве лишь незапланированных. Они порождаются необходимостью немедленно исправить нежелательное поведение производственной версии продукта. Когда в производственной версии находится баг, требующий немедленного исправления, из соответствующего данной версии тега главной ветви (master) порождается новая ветвь для работы над исправлением.</p><p><br></p><p>Смысл её существования состоит в том, что работа команды над ветвью разработки (develop) может спокойно продолжаться, в то время как кто-то один готовит быстрое исправление производственной версии.</p><p><br></p><h6>Создание ветви исправлений (hotfix branch)</h6><p><br></p><p><br></p><p>Ветви исправлений (hotfix branches) создаются из главной (master) ветви. Пускай, например, текущий производственный релиз имеет версию 1.2, и в нём (внезапно!) обнаруживается серьёзный баг. А изменения в ветви разработки (develop) ещё недостаточно стабильны, чтобы их издавать в новый релиз. Но мы можем создать новую ветвь исправлений и начать работать над решением проблемы:</p><p><br></p><pre class="ql-syntax" spellcheck="false">$ git checkout -b hotfix-1.2.1 master\n      Switched to a new branch "hotfix-1.2.1"\n$ ./bump-version.sh 1.2.1\nFiles modified successfully, version bumped to 1.2.1.\n$ git commit -a -m "Bumped version number to 1.2.1"\n[hotfix-1.2.1 41e61bb] Bumped version number to 1.2.1\n1 files changed, 1 insertions(+), 1 deletions(-)\n</pre><p><br></p><p>Не забывайте обновлять номер версии после создания ветви!</p><p><br></p><p>Теперь можно исправлять баг, а изменения издавать хоть одним коммитом, хоть несколькими.</p><p><br></p><pre class="ql-syntax" spellcheck="false">$ git commit -m "Fixed severe production problem"\n[hotfix-1.2.1 abbe5d6] Fixed severe production problem\n5 files changed, 32 insertions(+), 17 deletions(-)\n</pre><p><br></p><h6>Закрытие ветви исправлений</h6><p><br></p><p>Когда баг исправлен, изменения надо влить обратно в главную ветвь (master), а также в ветвь разработки (develop), чтобы гарантировать, что это исправление окажется и в следующем релизе. Это очень похоже на то, как закрывается ветвь релиза (release branch).</p><p><br></p><p>Прежде всего надо обновить главную ветвь (master) и пометить новую версию тегом.</p><p><br></p><pre class="ql-syntax" spellcheck="false">$ git checkout master\nSwitched to branch \'master\'\n$ git merge --no-ff hotfix-1.2.1\nMerge made by recursive.\n(Отчёт об изменениях)\n$ git tag -a 1.2.1\n</pre><p><br></p><p><strong>Замечание</strong>: при желании, Вы также можете использовать флаги -s или -u &lt;ключ&gt;, чтобы криптографически подписать тэг.</p><p><br></p><p>Следующим шагом переносим исправление в ветвь разработки (develop).</p><p><br></p><pre class="ql-syntax" spellcheck="false">$ git checkout develop\nSwitched to branch \'develop\'\n$ git merge --no-ff hotfix-1.2.1\nMerge made by recursive.\n(Отчёт об изменениях)\n</pre><p><br></p><p>У этого правила есть одно исключение:&nbsp;<strong>если в данный момент существует ветвь релиза (release branch), то ветвь исправления (hotfix branch) должна вливаться в неё, а не в ветвь разработки (develop)</strong>. В этом случае исправления войдут в ветвь разработки вместе со всей ветвью релиза, когда та будет закрыта. (Хотя, если работа в develop требует немедленного исправления бага и не может ждать, пока будет завершено издание текущего релиза, Вы всё же можете влить исправления (bugfix) в ветвь разработки (develop), и это будет вполне безопасно).</p><p><br></p><p>И наконец, удаляем временную ветвь:</p><p><br></p><pre class="ql-syntax" spellcheck="false">$ git branch -d hotfix-1.2.1\nDeleted branch hotfix-1.2.1 (was abbe5d6).\n</pre><p><br></p><h4>Заключение</h4><p><br></p><p>Хотя в этой модели ветвления совершенно нет ничего принципиально нового, «большая картинка», с которой начинается эта статья, зарекомендовала себя в наших проектах с самой лучшей стороны. Она формирует элегантную мысленную модель, которую легко полностью охватить одним взглядом, и которая позволяет сформировать у команды совместное понимание процессов ветвления и слияния, действующих на проекте.</p><p><br></p><p>Высококачественная PDF-версия этой картинки свободна для скачивания&nbsp;<a href="http://github.com/downloads/nvie/gitflow/Git-branching-model.pdf" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);">здесь</a>. Распечатайте её и повесьте у себя на стену, чтобы к ней можно было обратиться в любой момент.</p><p><br></p><p><strong><em>Прим. переводчика:</em></strong><em>&nbsp;статья не новая, ссылка на оригинал&nbsp;</em><a href="http://habrahabr.ru/blogs/development_tools/104993/" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);"><em>уже появлялась на хабре</em></a><em>. Этот перевод — для тех, кому английский ещё даётся не так легко (а также для моих коллег, среди которых я занимаюсь пропагандой, хехе). Для автоматизации описанных в статье процедур автор создал проект gitflow,&nbsp;</em><a href="http://github.com/nvie/gitflow" rel="noopener noreferrer" target="_blank" style="color: rgb(153, 34, 152);"><em>который можно найти на github</em></a><em>.</em></p>\n    '}},computed:{compiledHtml:function(){return this.inputfile}},created:function(){},methods:{}},u=d,b=(r("cedc"),r("2877")),m=Object(b["a"])(u,c,l,!1,null,null,null),h=m.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.$vuetify.breakpoint.lgAndUp?e._e():r("v-row",[r("v-toolbar",{attrs:{flat:"",color:"transparent",dark:"",height:"80px",width:"100%"}},[r("v-btn",{staticClass:"ml-1",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.$router.go(-1)}}},[r("v-icon",[e._v("mdi-arrow-left")])],1),r("v-toolbar-title",{},[e._v("JB")]),r("v-spacer"),r("v-toolbar-items",{staticClass:"mr-7 hidden-xs-and-down"},[r("v-btn",{attrs:{text:""}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-tag-text-outline")]),e._v("other")],1)],1)],1)],1)},g=[];r("b0c0");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={components:{},data:function(){return{loading:!0}},computed:y({},Object(i["c"])("router",{curectRouterName:function(e){return e.name}})),created:function(){},mounted:function(){var e=this;setTimeout((function(){return e.loading=!1}),500)},methods:{}},O=w,x=r("6544"),k=r.n(x),S=r("8336"),_=r("132d"),j=r("0fd9"),C=r("2fa4"),$=r("71d9"),P=r("2a7f"),D=Object(b["a"])(O,f,g,!1,null,null,null),V=D.exports;function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}k()(D,{VBtn:S["a"],VIcon:_["a"],VRow:j["a"],VSpacer:C["a"],VToolbar:$["a"],VToolbarItems:P["a"],VToolbarTitle:P["b"]});var I={props:{id:{type:String,default:""}},components:{"article-content":h,"app-card-full":s["a"],"comments-page":p["default"],"tool-bar":V},data:function(){return{loading:!0}},computed:{},created:function(){},mounted:function(){var e=this;setTimeout((function(){return e.loading=!1}),500)},beforeDestroy:function(){},methods:z({},Object(i["b"])("appBar",["toggleDrawer"]))},E=I,G=r("99d9"),H=r("adda"),T=Object(b["a"])(E,a,n,!1,null,null,null);t["default"]=T.exports;k()(T,{VCardText:G["b"],VImg:H["a"]})},"891f":function(e,t,r){},"9fec":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("tool-bar"),r("v-container",{class:e.customClass+(e.$vuetify.breakpoint.mdAndUp?"px-10":""),attrs:{fluid:""}},[r("v-row",{attrs:{align:"center"}},[r("v-col",[r("h2",{staticClass:"font-weight-medium"},[e._v("Comments "+e._s(e.id))])]),r("v-col",[r("h4",{staticClass:"text-right font-weight-medium"},[e._v("count "+e._s(5))])])],1),r("v-row",{attrs:{align:"start",justify:"space-between"}},[r("v-col",{attrs:{cols:"12",lg:"12"}},[r("comment-card")],1),r("v-col",{attrs:{cols:"12",lg:"12"}},[r("comment-card")],1),r("v-col",{attrs:{cols:"12",lg:"12"}},[r("comment-card")],1),r("v-col",{attrs:{cols:"12",lg:"12"}},["article"===e.curectRouterName?r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{attrs:{color:"secondary",rounded:"",large:""},on:{click:function(t){return t.stopPropagation(),e.openCommentsPage()}}},[e._v(" View All ")])],1):e._e()],1)],1)],1)],1)},n=[],o=(r("a4d3"),r("4de4"),r("4160"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),i=r("2f62"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("app-card-simple",{attrs:{"custom-class":e.customClass,circleSize:80,isAvatar:e.isAvatar,avatar:e.avatar,icon:e.icon,title:e.autor}},[r("v-list-item",{staticClass:"text-left",staticStyle:{"padding-left":"110px"},attrs:{"two-line":""}},[r("v-list-item-content",[r("v-list-item-subtitle",{staticClass:"subtitle-2",staticStyle:{"white-space":"normal"}},[e._v(e._s(e.text))])],1)],1)],1)},p=[],c=r("2eb4"),l={name:"comment-card",props:{customClass:{type:String,default:""},commentId:{type:String,default:""},isAvatar:{type:Boolean,default:!1},avatar:{type:String,default:"https://randomuser.me/api/portraits/women/82.jpg"},icon:{type:String,default:"mdi-account-tie"},autor:{type:String,default:"User"},text:{type:String,default:"Greyhound divisely hello coldly fonwderfully"}},components:{"app-card-simple":c["a"]},data:function(){return{comments:[]}},computed:{},created:function(){},methods:{toMovement:function(){this.$router.push({path:"/view",params:{id:this.movementId}})}}},d=l,u=r("2877"),b=r("6544"),m=r.n(b),h=r("da13"),f=r("5d23"),g=Object(u["a"])(d,s,p,!1,null,null,null),v=g.exports;m()(g,{VListItem:h["a"],VListItemContent:f["a"],VListItemSubtitle:f["b"]});var y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return"article"===e.curectRouterName||e.$vuetify.breakpoint.lgAndUp?e._e():r("v-toolbar",{attrs:{flat:"",color:"transparent",height:"80px",width:"100%"}},[r("v-btn",{staticClass:"ml-1",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.$router.go(-1)}}},[r("v-icon",[e._v("mdi-arrow-left")])],1),r("v-toolbar-title",{staticClass:"font-weight-bold"},[e._v("JB")])],1)},w=[];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k={components:{},data:function(){return{loading:!0}},computed:x({},Object(i["c"])("router",{curectRouterName:function(e){return e.name}})),created:function(){},mounted:function(){var e=this;setTimeout((function(){return e.loading=!1}),500)},methods:{}},S=k,_=r("8336"),j=r("132d"),C=r("71d9"),$=r("2a7f"),P=Object(u["a"])(S,y,w,!1,null,null,null),D=P.exports;function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}m()(P,{VBtn:_["a"],VIcon:j["a"],VToolbar:C["a"],VToolbarTitle:$["b"]});var z={name:"comments-layout",props:{id:{type:String,default:""},customClass:{type:String,default:""}},components:{"comment-card":v,"tool-bar":D},data:function(){return{comments:[]}},computed:A({},Object(i["c"])("router",{curectRouterName:function(e){return e.name}})),created:function(){},methods:{openCommentsPage:function(){this.$router.push({name:"comments",params:{id:this.id}})}}},I=z,E=r("99d9"),G=r("62ad"),H=r("a523"),T=r("0fd9"),M=Object(u["a"])(I,a,n,!1,null,null,null);t["default"]=M.exports;m()(M,{VBtn:_["a"],VCardActions:E["a"],VCol:G["a"],VContainer:H["a"],VRow:T["a"]})},cedc:function(e,t,r){"use strict";var a=r("253d"),n=r.n(a);n.a},f5d6:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.hover;return[r("v-card",{class:e.customClass+(e.isHoverAndRipple?"a-link":""),attrs:{elevation:e.applyHover(a),ripple:e.applyRipple()}},[e._t("img"),r("div",{staticClass:"d-flex justify-center",style:"height:"+e.circleSize/2+"px;"},[r("v-avatar",{style:"top:"+-(e.circleSize/2+4)+"px ;",attrs:{color:e.$vuetify.theme.dark?"#424242":"white",size:e.circleSize+12}},[r("v-avatar",{attrs:{color:e.circleColor,size:e.circleSize}},[e.isAvatar?r("img",{attrs:{src:e.avatar}}):r("v-icon",{attrs:{color:"white",size:e.circleSize/2}},[e._v(" "+e._s(e.icon)+" ")])],1)],1)],1),e._t("default")],2)]}}],null,!0)})},n=[],o=(r("a9e3"),{name:"app-card-full",props:{customClass:{type:String,default:""},circleColor:{type:String,default:"secondary"},circleSize:{type:Number,default:90},isAvatar:{type:Boolean,default:!1},icon:{type:String,default:""},avatar:{type:String,default:""},isHoverAndRipple:{type:Boolean,default:!1}},data:function(){return{}},computed:{},created:function(){},methods:{applyHover:function(e){return this.isHoverAndRipple?e?20:2:""},applyRipple:function(){return!!this.isHoverAndRipple&&{class:"primary--text"}}}}),i=o,s=(r("1b7e"),r("2877")),p=r("6544"),c=r.n(p),l=r("8212"),d=r("b0af"),u=r("ce87"),b=r("132d"),m=Object(s["a"])(i,a,n,!1,null,"e1f75784",null);t["a"]=m.exports;c()(m,{VAvatar:l["a"],VCard:d["a"],VHover:u["a"],VIcon:b["a"]})}}]);
//# sourceMappingURL=chunk-6bd68624.2a942955.js.map